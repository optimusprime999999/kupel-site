<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пластиковая купель для бани — в наличии в Москве</title>
</head>
<body>
    <h1>Пластиковая купель для бани — в наличии в Москве</h1>
    <p>От 725 до 6000 литров • Без предоплаты • Доставка по МО • Консультация по установке</p>
    
    <form id="order-form" action="https://script.google.com/macros/s/AKfycbwsSNKm2Y-mFJHdbP7w0w3CFKUg4Oo9jsgN-MgrmkTC8EYEBMxTHeLPdlelZ8SPMWzB/exec" method="POST">
        <input type="hidden" name="honeypot" value="" />
        <label for="name">Имя:</label>
        <input type="text" id="name" name="name" required><br>
        
        <label for="phone">Телефон:</label>
        <input type="text" id="phone" name="phone" pattern="^7\d{10}$" placeholder="Введите номер с кодом +7" required><br>
        
        <label for="comment">Комментарий:</label>
        <textarea id="comment" name="comment"></textarea><br>
        
        <input type="submit" value="Оставить заявку">
    </form>

    <script>
        document.getElementById("order-form").addEventListener("submit", function(event) {
            event.preventDefault();
            var phone = document.getElementById('phone').value;
            var name = document.getElementById('name').value;

            // Проверка на корректность телефона
            if (!name || !phone) {
                alert('Пожалуйста, заполните все обязательные поля!');
                return;
            }

            var phonePattern = /^7\d{10}$/;
            if (!phone.match(phonePattern)) {
                alert('Введите корректный номер телефона: +7xxxxxxxxxx');
                return;
            }

            var formData = new FormData(this);

            fetch(this.action, {
                method: 'POST',
                body: formData
            }).then(response => response.json())
            .then(response => {
                if (response.status === 'success') {
                    window.location.href = 'https://optimusprime999999.github.io/kupel-site/thanks.html';
                } else {
                    alert('Ошибка при отправке заявки. Попробуйте снова.');
                }
            });
        });

        // Honeypot для ботов
        document.querySelector("input[name='honeypot']").setAttribute('style', 'display:none');
    </script>
</body>
</html>
